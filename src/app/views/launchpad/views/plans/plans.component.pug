mixin CURRENT
	.section
		.section__header
			ct-section-caption Plans
		.section__body
			ct-table.simple-table(#table)
				table(mat-table '[dataSource]'="dataSource" class="mat-table") 
					ng-container(matColumnDef="id") 
						th(mat-header-cell *matHeaderCellDef) Id 
						td(mat-cell *matCellDef="let el") {{el.id}} 
					ng-container(matColumnDef="code") 
						th(mat-header-cell *matHeaderCellDef) Code of plan
						td(mat-cell *matCellDef="let el") {{el.code}} 
					ng-container(matColumnDef="createdOn") 
						th(mat-header-cell *matHeaderCellDef)  Created on 
						td(mat-cell *matCellDef="let el") {{el.createdOn | date:'MMM d, yyyy, HH:mm:ss'}} 
					ng-container(matColumnDef="valid") 
						th(mat-header-cell *matHeaderCellDef) Is valid? 
						td(mat-cell *matCellDef="let el") {{el.valid}} 
					//- INFO кнопка archive дублирует информацию
					//- ng-container(matColumnDef="locked") 
					//- 	th(mat-header-cell *matHeaderCellDef) Is locked? 
					//- 	td(mat-cell *matCellDef="let el") {{el.locked}} 
					ng-container(matColumnDef="bts") 
						th(mat-header-cell *matHeaderCellDef)  
						td(mat-cell *matCellDef="let el") 
							.buttons.buttons--right 
								button(mat-flat-button color="primary" '[routerLink]'="['/launchpad/plans',el.id,'edit']" title="Edit" '[disabled]'="el.locked") Edit
								button(mat-flat-button color="primary" '[routerLink]'="['/launchpad/plans',el.id,'workbooks']") Workbooks
								button(mat-flat-button '[disabled]'="el.locked" color="warn" '(click)'="archive(el)" title="Archive")
									| To Archive
									//- mat-icon archive
								button(mat-flat-button color="warn" '(click)'="delete(el)" title="Delete"): mat-icon delete
					tr(mat-header-row *matHeaderRowDef="columnsToDisplay")  
					tr(mat-row *matRowDef="let row; columns: columnsToDisplay;" 
						'[class.deleted-table-row]'="deletedPlans.includes(row)")
			.section__content(*ngIf="currentStates.has(states.firstLoading)")
				mat-progress-bar(mode="indeterminate")

		.section__footer
			.flex.flex--jc_sb
				.buttons.buttons--left 
					button(mat-flat-button #prevTable '(click)'='prev()' disabled): mat-icon arrow_back_ios
					button(mat-flat-button #nextTable '(click)'='next()' disabled): mat-icon arrow_forward_ios
				.buttons.buttons--right
					button(mat-flat-button color="primary"
						'[disabled]'="currentStates.has(states.loading) || currentStates.has(states.firstLoading)"
						routerLink="/launchpad/plans/add") Add Plan


mat-tab-group(mat-stretch-tabs dynamicHeight)
	mat-tab(label="CURRENT")
		br
		+CURRENT
	mat-tab(label="ARCHIVE")
		br
		archive-plans
	